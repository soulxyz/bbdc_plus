# 🚀 BBDC Plus - 背单词增强工具

一个智能的背单词软件增强工具，通过 OCR 识别屏幕上的英文单词，自动显示词根词缀和速记方法。

## ✨ 功能特点

- 🔍 **实时 OCR 识别**：自动识别屏幕指定区域的英文单词
- 📖 **词根词缀分析**：显示单词的词根拆分和含义
- 💡 **智能查询**：支持模糊匹配，容错 OCR 识别错误
- 🎨 **悬浮卡片界面**：透明置顶窗口，不遮挡学习内容
- ⚡ **轻量高效**：低资源占用，流畅运行
- ⌨️ **全局快捷键**：随时控制程序状态

## 📦 安装步骤

### 1. 安装 Python 依赖

```bash
pip install -r requirements.txt
```

### 2. 安装 Tesseract OCR

**Windows 用户：**

1. 下载 Tesseract OCR 安装包：
   - 官方链接：https://github.com/UB-Mannheim/tesseract/wiki
   - 推荐下载最新版本（如 tesseract-ocr-w64-setup-5.x.x.exe）

2. 安装时注意：
   - ✅ 勾选 "Add to PATH" 选项
   - ✅ 确保安装英文语言包

3. 验证安装：
   ```bash
   tesseract --version
   ```

4. 如果未添加到 PATH，需要在 `config.py` 中设置：
   ```python
   TESSERACT_CMD = r'C:\Program Files\Tesseract-OCR\tesseract.exe'
   ```

## 🎯 使用方法

### 启动程序

```bash
python main.py
```

**注意：** 需要以**管理员权限**运行以启用全局快捷键！

### 使用流程

1. **启动程序**
   - 程序会加载词汇数据库（约 2500+ 单词，700+ 词根）

2. **选择识别区域**
   - 程序启动后自动弹出屏幕选择界面
   - 用鼠标拖拽选择要识别的矩形区域
   - 通常选择背单词软件显示单词的位置

3. **开始识别**
   - 选择完成后，程序自动开始识别
   - 悬浮窗会实时显示识别到的单词信息

4. **使用快捷键**
   - `F2` - 重新选择识别区域
   - `F3` - 显示/隐藏悬浮窗
   - `F4` - 暂停/继续识别
   - `ESC` - 退出程序

### 悬浮窗内容

```
┌─────────────────────────────┐
│  🔍 BBDC Plus            ✕  │
├─────────────────────────────┤
│  ABANDON                    │
│  /əˈbændən/                 │
│                             │
│  📖 词根拆分                │
│     a+ban+don               │
│     ×+禁止+给出             │
│                             │
│  💡 释义                    │
│     v.放弃；抛弃            │
│                             │
│  🌱 相关词根                │
│     △ ban = 禁止            │
│     △ don = 给出            │
└─────────────────────────────┘
```

## ⚙️ 配置说明

编辑 `config.py` 文件可自定义：

- **OCR 识别间隔**：`OCR_INTERVAL = 0.5`（秒）
- **窗口透明度**：`WINDOW_ALPHA = 0.95`（0-1）
- **字体大小**：`FONT_SIZE_*` 系列参数
- **颜色主题**：`COLOR_*` 系列参数
- **快捷键**：`HOTKEY_*` 系列参数

## 📂 文件结构

```
bbdc_plus/
├── main.py                    # 主程序入口
├── database.py                # 数据库解析和查询
├── screen_selector.py         # 屏幕区域选择
├── ocr_engine.py              # OCR 识别引擎
├── floating_window.py         # 悬浮窗界面
├── config.py                  # 配置文件
├── requirements.txt           # Python 依赖
├── README.md                  # 使用说明
├── 词汇新修版讲义.txt         # 数据文件（文本格式）
└── 词汇新修版讲义_files/      # 数据文件（HTML 格式）
    ├── content.htm            # 主要数据源
    └── ...                    # 其他资源文件
```

## 🔧 常见问题

### 1. 提示 "tesseract 不是内部或外部命令"

**解决方法：**
- 确保已安装 Tesseract OCR
- 将 Tesseract 添加到系统 PATH
- 或在 `config.py` 中设置 `TESSERACT_CMD` 路径

### 2. 快捷键无法使用

**解决方法：**
- 以**管理员权限**运行程序
- 右键 → 以管理员身份运行

### 3. OCR 识别不准确

**解决方法：**
- 选择更清晰的屏幕区域
- 确保背单词软件的单词字体较大
- 调整 OCR 识别间隔（`config.py` 中的 `OCR_INTERVAL`）
- 程序已内置模糊匹配，会自动纠正常见错误

### 4. 悬浮窗遮挡内容

**解决方法：**
- 拖动悬浮窗标题栏移动位置
- 按 `F3` 临时隐藏悬浮窗
- 调整 `config.py` 中的 `WINDOW_ALPHA` 增加透明度

### 5. 找不到单词

**原因：**
- 数据库中可能没有该单词（数据库包含约 2500 个常见词）
- OCR 识别错误过大，模糊匹配失败

## 📊 数据库统计

- **单词数量**：2,547 个
- **词根数量**：712 个
- **数据来源**：词汇新修版讲义

## 🎓 使用场景

1. **配合任何背单词软件**
   - 墨墨背单词
   - 不背单词
   - 扇贝单词
   - Anki
   - 等等...

2. **阅读文章时辅助学习**
   - 在线文章
   - PDF 文档
   - 电子书

3. **观看英文视频**
   - 有字幕的英文视频
   - 在线课程

## 💻 系统要求

- **操作系统**：Windows 10/11（推荐）
- **Python 版本**：3.8 或更高
- **内存**：建议 2GB 以上
- **权限**：需要管理员权限（用于全局快捷键）

## 📝 更新日志

### v1.0.0 (2025-11-01)
- ✅ 初始版本发布
- ✅ 支持 OCR 实时识别
- ✅ 词根词缀分析
- ✅ 悬浮窗界面
- ✅ 全局快捷键
- ✅ 模糊匹配

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

---

**Enjoy learning! 📚✨**

